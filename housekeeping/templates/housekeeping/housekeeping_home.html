{% extends 'base.html' %}
{% load static %}
{% block title %}
  HMS Housekeeping
{% endblock %}
{% block extra_head %}
  <link rel="stylesheet" href="{% static 'housekeeping/css/housekeeping.css' %}" />
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
{% endblock %}
{% block sidebar %}
  {% include './includes/housekeeping_sidebar.html' with active_page='home' %}
{% endblock %}
{% block content %}
  <div class="main mx-5">
    <h1>Room Service| Housekeeping</h1>
    <div class="room-parent" style="margin-bottom: 0;">
      {% for room in rooms %}
        <div class="div{{ room.number }} room-box {{ room.status_class }}{% if not room.has_booking_today %} disabled-room{% endif %}"
          data-room="{{ room.number }}"
          data-has-booking="{% if room.has_booking_today %}
            
            
            true


          {% else %}
            
            
            false


          {% endif %}">R{{ room.number }}</div>
      {% endfor %}
      <div class="div13">
        <div>
          <div class="box vacant"></div>
          <span>No Requests</span>
        </div>
        <div>
          <div class="box progress"></div>
          <span>In progress</span>
        </div>
      </div>
      <div class="div14">
        <div class="box pending"></div>
        <span>Pending Requests</span>
      </div>
    </div>
    <div id="room-popover" class="room-popover hidden">
      <div class="popover-arrow"></div>
      <div class="popover-content">
        <h4 class="select-request">Select Requests</h4>
        <div id="no-booking-message" class="hidden">No booking on this room today.</div>
        <label><input type="radio" name="req" value="Clean room" />Clean room.</label><br />
        <label><input type="radio" name="req" value="Refill toiletries" />Refill toiletries.</label><br />
        <label><input type="radio" name="req" value="Refill convenience items" />Refill convenience items.</label><br />
        <label class=""><input type="radio" name="req" value="Change linens" />Change linens. <span>(Bathrobes, Towels, Bedsheets, Pillowcases)</span></label>
        <div class="status-buttons">
          <div class="row">
            <div class="col-6">
              <button class="in-progress status-button">In progress</button>
            </div>
            <div class="col-6">
              <button class="pending status-button">Pending</button>
            </div>
            <div class="col-12">
              <button class="no-requests status-button">No requests</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div style="max-width: 900px; background: #fff; border-radius: 8px;  margin-top: -130px;">
      <table class="table align-middle housekeeping-table" style="width: 100%; border-collapse: collapse;">
        <thead>
          <tr>
            <th style="background-color: #f2f2f2;">
              <input type="checkbox" />
            </th>
            <th style="background-color: #f2f2f2;">Room no.</th>
            <th style="background-color: #f2f2f2;">Customer</th>
            <th style="background-color: #f2f2f2;">Service Type</th>
            <th style="background-color: #f2f2f2;">Date and Time</th>
            <th style="background-color: #f2f2f2;">Status</th>
          </tr>
        </thead>
        <tbody>
          {% for request in housekeeping %}
            <tr>
              <td>
                <input type="checkbox" />
              </td>
              <td>{{ request.room_number }}</td>
              <td>{{ request.guest_name }}</td>
              <td>{{ request.request_type }}</td>
              <td>{{ request.created_at }}</td>
              <td>{{ request.status }}</td>
            </tr>
          {% endfor %}

          <tr>
            <td>
              <input type="checkbox" />
            </td>
            <td>3</td>
            <td>Clarissa Sotto</td>
            <td>Hygiene Product Refill</td>
            <td>
              11:11<br />13/04/2025
            </td>
            <td>
              <span style="font-size: 0.75rem; padding: 4px 10px; border-radius: 12px; font-weight: bold; background-color: #d4edda; color: #155724;">Finished</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}
{% block extra_js %}
  <script src="{% static 'housekeeping/js/housekeeping.js' %}"></script>
{% endblock %}
