{% extends 'base.html' %}
{% load static %}
{% block title %}
  Staff Laundry Orders
{% endblock %}
{% block extra_head %}
  <link rel="stylesheet" href="{% static 'laundry/css/orders.css' %}" />
{% endblock %}
{% block sidebar %}
  {% include '../includes/sidebar.html' with active_page='orders' %}
{% endblock %}
{% block content %}
  <div class="container p-5">
    <!-- Filters -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h2 class="mb-0">Orders</h2>
      <div class="d-flex">
        <button class="btn btn-outline-secondary me-2 text-black"><i class="bi bi-filter text-black"></i>Filter</button>
        <button class="btn btn-outline-secondary me-2 text-black">Sort <i class="bi bi-sort-down text-black"></i></button>
        <button id="bulk-delete-btn" class="btn btn-danger me-2" style="display: none;"><i class="bi bi-trash"></i> Delete Selected</button>
        <input type="text" class="form-control w-auto search-bar" placeholder="Search" />
      </div>
    </div>

    <!-- Table Header -->
    <div class="row table-header py-2 text-center">
      <div class="col-1">
        <input type="checkbox" />
      </div>
      <div class="col-2">Receipt No.</div>
      <div class="col-2">Customer</div>
      <div class="col-2">Service Type</div>
      <div class="col-2">Date and Time</div>
      <div class="col-2">Status</div>
      <div class="col-1">Actions</div>
    </div>

    <!-- Table Rows -->
    <div id="orders-container">
      {% include '../includes/order_rows.html' %}
    </div>

    <!-- Pagination -->
    <div class="d-flex justify-content-between mt-4">
      <div>
        <label for="pages">Pages</label>
        <select id="pages" class="form-select d-inline-block w-auto">
          <option value="1" selected>1/{{ paginator.num_pages }}</option>
        </select>
      </div>
      <nav>
        <ul class="pagination">
          {% if page_obj.has_previous %}
            <li class="page-item">
              <a class="page-link" href="#" data-page="{{ page_obj.previous_page_number }}">Previous</a>
            </li>
          {% endif %}

          <li class="page-item active">
            <a class="page-link" href="#" data-page="{{ page_obj.number }}">{{ page_obj.number }}</a>
          </li>

          {% if page_obj.has_next %}
            <li class="page-item">
              <a class="page-link" href="#" data-page="{{ page_obj.next_page_number }}">Next</a>
            </li>
          {% endif %}
        </ul>
      </nav>
    </div>
  </div>
{% endblock %}
{% block extra_js %}
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="{% static 'laundry/js/orders.js' %}"></script>
{% endblock %}
